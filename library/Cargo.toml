[package]
name = "nethercore-library"
version.workspace = true
edition.workspace = true
license.workspace = true
repository.workspace = true
description = "Unified Nethercore fantasy console launcher"

[lib]
name = "nethercore_library"
path = "src/lib.rs"

[[bin]]
name = "nethercore"
path = "src/main.rs"

[features]
default = ["gamepad"]
gamepad = ["nethercore-core/gamepad", "zx-common/gamepad"]

[dependencies]
# Local crates
nethercore-core = { path = "../core", default-features = false }
nethercore-shared = { path = "../shared" }
# Note: zx-common provides ZXRomLoader for reading .nczx ROM metadata
zx-common = { path = "../zx-common", default-features = false, features = ["loader"] }

# Workspace dependencies
anyhow.workspace = true
thiserror.workspace = true
tracing.workspace = true
tracing-subscriber = { workspace = true, features = ["env-filter"] }
directories.workspace = true
hashbrown.workspace = true

# UI
eframe.workspace = true

# For KeyCode in settings UI (keybinding configuration)
winit.workspace = true

# Utilities
open.workspace = true
rfd.workspace = true
dirs = "5.0"

# HTTP client for update checking
reqwest = { workspace = true, features = ["rustls-tls"] }

# Async runtime for update checking
tokio = { workspace = true, features = ["rt", "time"] }

# Serialization for API responses
serde_json.workspace = true

# Timestamp handling for manifest updates
chrono.workspace = true

# Serialization for update checking
serde = { workspace = true, features = ["derive"] }

[target.'cfg(target_os = "windows")'.dependencies]
winreg = "0.52"
