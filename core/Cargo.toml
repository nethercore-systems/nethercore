[package]
name = "emberware-core"
version.workspace = true
edition.workspace = true
license.workspace = true
repository.workspace = true
description = "Core framework for Emberware fantasy console platform"

[dependencies]
# Shared types
emberware-shared = { path = "../shared" }
z-common = { path = "../z-common" }

# WASM execution
wasmtime = { workspace = true }

# WASM static analysis (for build-time config detection)
wasmparser = "0.219"

# Rollback netcode
ggrs = { workspace = true }

# Windowing
winit = { workspace = true }

# Math
glam = { workspace = true }

# Serialization for input/state
bytemuck = { workspace = true }

# Async runtime for networking
tokio = { workspace = true, features = ["rt", "sync"] }

# Error handling
anyhow = { workspace = true }
thiserror = { workspace = true }

# Logging
log = { workspace = true }

# Random number generation (deterministic)
rand = { workspace = true }
rand_pcg = { workspace = true }

# Fast checksums for rollback state (SIMD-optimized)
xxhash-rust = { version = "0.8", features = ["xxh3"] }

# Serialization for network messages
bincode = { workspace = true }

# Application framework dependencies (Step 1)
gilrs = "0.10"                       # Gamepad input
serde = { workspace = true }
toml = "0.8"                         # Config file format
directories = "5"                    # Platform-specific paths
hashbrown = { workspace = true }     # Fast HashMap
tracing = { workspace = true }       # Logging
egui = "0.30"                        # Debug overlay UI
serde_json = "1.0"                   # JSON for game manifests

[dev-dependencies]
# WAT text format parser for test WASM modules
wat = "1"
tempfile = "3"                       # Temporary directories for tests
